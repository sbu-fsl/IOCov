# IOCov scripts: parser and plotter

## Workflow

Basically, the workflow of IOCov 

## Usage

The main entry of the parser and plotter is `iocov-main.py`.  The 
first step is parsing the logs from LTTng, while parsing Syzkaller
webpages need the scripts in the `../Syzkaller`.  To parse LTTng logs,
we should edit three fields in the `iocov-main.py`: `default_plot_name`,
`default_is_mcfs`, and `default_lttng_log`.

- `default_plot_name`: suffix for the pkl and json file names.  For 
  example, `default_plot_name = 'xfstests_xattr_open_dump'` indicates that 
  IOCov will write the parsed input and output coverage to `input_cov_xfstests_xattr_open_dump.pkl`,
  `output_cov_xfstests_xattr_open_dump.pkl` and `unfilter_input_cov_xfstests_xattr_open_dump.pkl`.
  Meanwhile, IOCov looks for these pickle files (i.e., `input_cov_xfstests_xattr_open_dump.pkl`)
  and load them to plot corresponding figures for input and output coverage.
  `default_plot_name` is also the suffix of plot titles by replacing `_`
  with space ` ` (i.e., `replace('_', ' ')`) and the prefix of intermediate 
  pkl files generated by IOCov plotter --- we can expect the  `xfstests_xattr_open_dump_input_coords.pkl`
  and `xfstests_xattr_open_dump_output_coords.pkl` as the X/Y-axis data pickled 
  by the plotter.  Finally, `default_plot_name` serves as the prefix of 
  the file name of PDF plots where file names format as `prefix-input-syscall-param.pdf`. 
  Python code for plot file name:`'{}-input-{}-{}.{}'.format(self.plot_prefix, sc, param, self.plot_format)`
- `default_is_mcfs`: boolean variable to specify if we are processing 
  input and output coverage for MCFS.  `True` means MCFS.  `is_mcfs` 
  is required by IOCov parser because MCFS needs to be handled specially.
- `default_lttng_log`: pathname to the LTTng log file.  For example,
  `default_lttng_log = xfstests-lttng-all-related-ext4-all-xattrs-4633.log`
  is passed to IOCov parser so IOCov reads this log line by line and 
  parse the information to obtain the dictionary (pkl/json files) for 
  further analysis and plotting. 

